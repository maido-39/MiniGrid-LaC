# Trust 및 Logprobs 심층 분석 리포트

**분석 일시**: 2026-01-25 20:37:43

---

## 1. 핵심 질문 분석

### Q1: Episode 증가에 따라 Trust가 증가하는 추세인가?

| 지표 | Episode 1 | Episode 2 | Episode 3 | 추세 판단 |
|------|-----------|-----------|-----------|----------|
| 평균 (원본) | -1.8333 | -5.3350 | 12.4795 | 불안정 (이상치 영향) |
| **중앙값** | 0.4928 | 0.8996 | 0.8049 | **증가** (0.49→0.90→0.80) |
| 이상치 제거 평균 | 0.4991 | 0.7163 | 0.3361 | 감소 |

**결론**: 중앙값 기준으로 Episode 1→2에서 증가(0.49→0.90), Episode 2→3에서 소폭 감소(0.90→0.80).
전반적으로 Episode 1보다 Episode 2, 3가 높은 Trust를 보이지만, **뚜렷한 증가 추세라고 단정하기 어려움**.

### Q2: Logprobs 부정확성 문제

**총 Logprobs 이상 값**: 8개

| Episode | 이상 값 수 | 주요 문제 |
|---------|------------|----------|
| Episode 1 | 0 | 없음 |
| Episode 2 | 5 | Step 6: H_X=0.5902, Step 15: H_X_given_LS=1.7765, Step 27: H_X_given_S=1.3649 |
| Episode 3 | 3 | Step 4: H_X_given_S=0.1646, Step 15: H_X_given_LS=0.1779, Step 27: H_X_given_S=0.1020 |

**발견된 문제점**:

1. **비정상적으로 높은 H(X|L,S) 값**: 보통 0.001 수준이어야 하나, 0.1~1.7 수준의 값 발견
2. **Trust 분모 불안정**: H(X) - H(X|L,S) ≈ 0일 때 Trust가 극단값(±170)으로 발산
3. **Null 값 과다**: Trust의 37~47%가 계산 불가 (필요한 값 누락)

### Q3: 개선 시 유의미한 결과 가능성

**개선 가능한 부분**:

1. **VLM 호출 안정성 강화**: 재시도 로직 적용 (이미 구현됨)
2. **Trust 계산 안정화**: 분모가 0에 가까울 때 처리
   - `|H(X) - H(X|L,S)| < threshold` 이면 Trust = None 또는 clipping
3. **Logprobs 검증**: 비정상적으로 높은 entropy 값 필터링
4. **더 많은 에피소드 실험**: 현재 3개는 통계적 유의성 부족

**개선 시 기대 효과**:
- Null 비율 감소 → 더 많은 유효 데이터
- 극단적 이상치 감소 → 안정적인 통계
- 10+ 에피소드로 실험 시 → 통계적 유의성 확보 가능

## 2. 상세 통계

### Trust T 통계

| Episode | 유효 | Null | 평균 | 중앙값 | 표준편차 | 이상치제거평균 | 최소 | 최대 |
|---------|------|------|------|--------|----------|----------------|------|------|
| Episode 1 | 22 | 13 | -1.83 | 0.49 | 7.08 | 0.50 | -29.95 | 2.06 |
| Episode 2 | 25 | 21 | -5.33 | 0.90 | 33.74 | 0.72 | -169.79 | 14.84 |
| Episode 3 | 20 | 18 | 12.48 | 0.80 | 37.60 | 0.34 | -7.22 | 170.43 |

### Trust 불안정 케이스

**Episode 1**: 14개 불안정 케이스
  - Step 2: 분모=0.000619, Trust=0.52
  - Step 5: 분모=0.000842, Trust=-15.99
  - Step 15: 분모=0.000361, Trust=0.40
  - Step 17: 분모=0.000852, Trust=0.65
  - Step 20: 분모=-0.000024, Trust=0.60

**Episode 2**: 14개 불안정 케이스
  - Step 2: 분모=0.000508, Trust=1.37
  - Step 5: 분모=0.000838, Trust=-1.20
  - Step 22: 분모=-0.000154, Trust=1.87
  - Step 24: 분모=0.000532, Trust=2.57
  - Step 29: 분모=-0.000511, Trust=2.42

**Episode 3**: 17개 불안정 케이스
  - Step 2: 분모=-0.000113, Trust=29.91
  - Step 3: 분모=-0.000785, Trust=0.80
  - Step 8: 분모=0.000707, Trust=-3.43
  - Step 14: 분모=-0.000021, Trust=2.05
  - Step 20: 분모=-0.000518, Trust=24.71

## 3. 결론 및 권장사항

1. **현재 데이터로는 Trust 증가 추세를 확정하기 어려움**
   - 평균은 이상치에 크게 영향받아 신뢰 불가
   - 중앙값은 Ep1→2 증가, Ep2→3 소폭 감소

2. **Logprobs 개선이 필수적**
   - VLM 호출 재시도 로직 활용
   - 비정상 entropy 값 필터링/검증

3. **추가 실험 권장**
   - 최소 10개 이상의 에피소드로 실험
   - 동일 조건에서 반복 실험으로 재현성 확인

# HOGUN 그룹 종합 분석 보고서

**분석 일시**: 2026-01-28 21:03:43  
**Ground Truth**: hogun_episode1 (Episode 1)  
**분석 대상**: Episode 2, 3 (총 2개)

---

## 1. 메트릭 경향성과 궤적 특성의 관계 분석

### 1.1 RMSE (Root Mean Square Error)

**경향성**: Episode 증가에 따라 **감소** (-1.79 per episode)

**궤적 특성 영향 분석**:
- **감소 원인**: Episode가 증가할수록 **시간 동기화가 더 정확**해지거나, **위치 오차가 감소**하는 것으로 해석됩니다.
- Episode 2 (RMSE=3.84) → Episode 3 (RMSE=2.05): 약 47% 감소
- 이는 나중 Episode에서 GT와의 **시간적 정렬이 더 잘 맞거나**, **전체적인 위치 편차가 줄어들었음**을 의미합니다.
- **민감한 요소**: 시간 동기화 오차, 위치 편차
- **둔감한 요소**: 경로 형태 변화, 속도 변화

### 1.2 DTW (Dynamic Time Warping)

**경향성**: Episode 증가에 따라 **증가** (+22.69 per episode)

**궤적 특성 영향 분석**:
- **증가 원인**: Episode가 증가할수록 **전체 경로 형태가 GT와 더 달라지거나**, **시간 왜곡이 더 필요**해지는 것으로 해석됩니다.
- Episode 2 (DTW=25.55) → Episode 3 (DTW=48.24): 약 89% 증가
- 이는 나중 Episode에서 **경로의 전체적인 패턴이 달라지거나**, **더 많은 시간 왜곡이 필요**함을 의미합니다.
- **민감한 요소**: 경로 형태(pattern), 전체 궤적의 기하학적 구조
- **둔감한 요소**: 일시적 정지, 속도 변화

### 1.3 Fréchet Distance

**경향성**: Episode 증가에 따라 **증가** (+2.19 per episode)

**궤적 특성 영향 분석**:
- **증가 원인**: Episode가 증가할수록 **기하학적 형상이 GT와 더 달라짐**을 의미합니다.
- Episode 2 (Fréchet=1.41) → Episode 3 (Fréchet=3.61): 약 156% 증가
- 이는 나중 Episode에서 **경로의 "모양"이 더 달라졌음**을 의미합니다.
- **민감한 요소**: 경로의 기하학적 형상, 토폴로지
- **둔감한 요소**: 시간, 속도, 일시적 우회

### 1.4 ERP (Edit Distance on Real sequence)

**경향성**: Episode 증가에 따라 **감소** (-69.97 per episode)

**궤적 특성 영향 분석**:
- **감소 원인**: Episode가 증가할수록 **Gap(누락)이 줄어들거나**, **전체적인 경로 커버리지가 개선**되는 것으로 해석됩니다.
- Episode 2 (ERP=154.81) → Episode 3 (ERP=84.84): 약 45% 감소
- 이는 나중 Episode에서 **경로의 연속성이 개선**되었음을 의미합니다.
- **민감한 요소**: 큰 Gap, 누락된 구간
- **둔감한 요소**: 작은 우회, 국소적 편차

### 1.5 DDTW (Derivative Dynamic Time Warping)

**경향성**: Episode 증가에 따라 **감소** (-3.28 per episode)

**궤적 특성 영향 분석**:
- **감소 원인**: Episode가 증가할수록 **속도/방향 벡터가 GT와 더 유사**해지는 것으로 해석됩니다.
- Episode 2 (DDTW=17.95) → Episode 3 (DDTW=14.67): 약 18% 감소
- 이는 나중 Episode에서 **정지 구간이 줄어들거나**, **역주행이 감소**했음을 의미합니다.
- **민감한 요소**: 정지(Stop), 역주행(Backtracking), 속도 변화
- **둔감한 요소**: 위치 오프셋, 베이스라인 시프트

### 1.6 TWED (Time Warp Edit Distance)

**경향성**: Episode 증가에 따라 **감소** (-69.51 per episode)

**궤적 특성 영향 분석**:
- **감소 원인**: Episode가 증가할수록 **시간 왜곡 페널티가 줄어들거나**, **시간적 일치도가 개선**되는 것으로 해석됩니다.
- Episode 2 (TWED=126.99) → Episode 3 (TWED=57.49): 약 55% 감소
- 이는 나중 Episode에서 **시간 축 정렬이 개선**되었음을 의미합니다.
- **민감한 요소**: 시간 페널티, 속도 변화, 정차
- **둔감한 요소**: 위치만의 오차

### 1.7 Sobolev Metric

**경향성**: Episode 증가에 따라 **증가** (+3.16 per episode)

**궤적 특성 영향 분석**:
- **증가 원인**: Episode가 증가할수록 **위치 오차 또는 속도 오차가 증가**하는 것으로 해석됩니다.
- Episode 2 (Sobolev=14.20) → Episode 3 (Sobolev=17.36): 약 22% 증가
- 이는 나중 Episode에서 **위치와 속도 중 하나 또는 둘 다 GT와 더 달라졌음**을 의미합니다.
- **민감한 요소**: 위치 오차, 속도 오차 (둘 다)
- **둔감한 요소**: 없음 (종합적 메트릭)

---

## 2. Episode 증가에 따른 경향성 종합 분석

### 2.1 전체적인 경향 패턴

**증가하는 메트릭** (나중 Episode가 GT와 더 다름):
- **DTW** (+22.69): 경로 형태가 더 달라짐
- **Fréchet** (+2.19): 기하학적 형상이 더 달라짐
- **Sobolev** (+3.16): 위치/속도 오차 증가

**감소하는 메트릭** (나중 Episode가 GT에 더 가까움):
- **RMSE** (-1.79): 시간 동기화/위치 오차 개선
- **ERP** (-69.97): Gap 감소, 경로 연속성 개선
- **DDTW** (-3.28): 속도/방향 일치도 개선
- **TWED** (-69.51): 시간 정렬 개선

### 2.2 모순적 경향성 해석

흥미롭게도, **증가하는 메트릭**과 **감소하는 메트릭**이 공존합니다:

1. **위치 기반 메트릭 (RMSE)은 감소**하지만, **형태 기반 메트릭 (DTW, Fréchet)은 증가**
   - 해석: 나중 Episode는 **같은 시간대의 위치는 더 정확**하지만, **전체적인 경로 형태는 더 달라짐**
   - 예: 더 정확한 타이밍으로 이동하지만, 경로 자체는 다른 경로를 따름

2. **시간 기반 메트릭 (TWED, ERP)은 감소**하지만, **형태 기반 메트릭은 증가**
   - 해석: 나중 Episode는 **시간적 정렬은 개선**되지만, **공간적 형상은 더 달라짐**
   - 예: 더 빠르거나 느리게 이동하지만, 전체 경로의 모양은 다름

3. **속도 기반 메트릭 (DDTW)은 감소**하지만, **종합 메트릭 (Sobolev)은 증가**
   - 해석: 나중 Episode는 **속도/방향은 더 유사**하지만, **위치 오차가 증가**하여 종합적으로는 더 나빠짐
   - 예: 같은 속도로 이동하지만, 시작 위치나 경로가 달라서 최종적으로는 더 멀어짐

### 2.3 궤적 길이의 영향

- Episode 2: 46 steps
- Episode 3: 38 steps

**관찰**: Episode 3이 더 짧은 경로를 따릅니다. 이는:
- **RMSE 감소**: 더 짧은 경로 = 더 적은 누적 오차 가능성
- **DTW 증가**: 경로 길이가 다르면 시간 왜곡이 더 필요
- **ERP 감소**: 더 짧은 경로 = 더 적은 Gap 가능성

---

## 3. 이 실험 데이터에 적합한 메트릭 분석

### 3.1 안정성 관점 (Episode와 무관하게 일정해야 함)

**가장 안정적인 메트릭**:
1. **Sobolev** (CV=0.1000): 가장 안정적
2. **DDTW** (CV=0.1004): 매우 안정적
3. **ERP** (CV=0.2920): 중간 안정성

**가장 불안정한 메트릭**:
1. **Fréchet** (CV=0.4365): 가장 불안정
2. **TWED** (CV=0.3768): 불안정
3. **DTW** (CV=0.3075): 불안정

### 3.2 Episode 독립성 관점 (이상적으로는 변하지 않아야 함)

**가장 Episode 독립적** (트렌드가 작음):
1. **RMSE** (trend=-1.79): 상대적으로 안정
2. **Fréchet** (trend=+2.19): 작은 증가
3. **Sobolev** (trend=+3.16): 작은 증가

**가장 Episode 의존적** (트렌드가 큼):
1. **ERP** (trend=-69.97): 큰 감소
2. **TWED** (trend=-69.51): 큰 감소
3. **DTW** (trend=+22.69): 큰 증가

### 3.3 실험 목적에 따른 메트릭 추천

#### A. 전체적인 궤적 유사도 평가 (종합적)
**추천**: **Sobolev Metric**
- 이유:
  - 가장 안정적 (CV=0.1000)
  - 위치와 속도를 모두 고려
  - Episode 독립성도 상대적으로 양호 (trend=+3.16)
- 단점: Episode 증가에 따라 약간 증가하는 경향

#### B. 속도/방향 기반 평가 (동역학적)
**추천**: **DDTW**
- 이유:
  - 매우 안정적 (CV=0.1004)
  - 정지/역주행 감지에 특화
  - Episode 증가에 따라 오히려 개선 (감소)
- 단점: 위치 오프셋에는 둔감

#### C. 기하학적 형상 평가 (공간적)
**추천**: **Fréchet Distance**
- 이유:
  - 시간과 무관하게 형상만 평가
  - 직관적인 "강아지 산책" 비유
- 단점: 불안정 (CV=0.4365), Episode 증가에 따라 증가

#### D. 시간 동기화 평가 (시간적)
**추천**: **RMSE**
- 이유:
  - Episode 독립성이 가장 좋음 (trend=-1.79)
  - 시간 동기화 오차를 직접 측정
  - Episode 증가에 따라 오히려 개선 (감소)
- 단점: 시간 동기화가 필수 (제약)

### 3.4 최종 권장사항

**이 실험 데이터에 가장 적합한 메트릭**:

1. **1순위: DDTW**
   - 안정성: 매우 높음 (CV=0.1004)
   - Episode 독립성: 양호 (감소 경향이지만 작음)
   - 실용성: 정지/역주행 감지에 특화
   - 로봇 궤적 평가에 가장 적합

2. **2순위: Sobolev**
   - 안정성: 가장 높음 (CV=0.1000)
   - 종합성: 위치+속도 모두 고려
   - 단점: Episode 증가에 따라 약간 증가

3. **3순위: RMSE**
   - Episode 독립성: 가장 좋음
   - 단점: 시간 동기화 필수 제약

**비추천 메트릭**:
- **DTW**: 불안정하고 Episode 의존성이 큼
- **TWED**: 불안정하고 큰 변동성
- **ERP**: Episode 의존성이 매우 큼

---

## 4. 결론

### 4.1 주요 발견사항

1. **위치 정확도는 개선**되지만, **경로 형태는 더 달라짐**
2. **시간 정렬은 개선**되지만, **공간 형상은 더 달라짐**
3. **속도/방향 일치는 개선**되지만, **종합적 오차는 증가**

### 4.2 실험 해석

이러한 모순적 경향성은 다음을 시사합니다:
- 나중 Episode는 **더 정확한 타이밍과 속도**로 이동하지만
- **다른 경로를 선택**하여 전체적으로는 더 달라짐
- 즉, **로컬 정확도는 개선**되지만, **글로벌 경로 선택은 다름**

### 4.3 실용적 권장사항

이 실험 데이터의 특성상:
- **동역학적 평가**가 중요하다면 → **DDTW** 사용
- **종합적 평가**가 중요하다면 → **Sobolev** 사용
- **시간 정렬 평가**가 중요하다면 → **RMSE** 사용

**Baseline으로는 DTW나 Fréchet보다 DDTW가 더 적합**합니다.

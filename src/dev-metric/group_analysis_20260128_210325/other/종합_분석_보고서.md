# OTHER 그룹 종합 분석 보고서

**분석 일시**: 2026-01-28 21:03:43  
**Ground Truth**: Episode_1_1 (Episode 1)  
**분석 대상**: Episode 1, 2, 3, 4, 5 (총 6개, Episode 1은 Episode_1_2_Test_Entropy)

---

## 1. 메트릭 경향성과 궤적 특성의 관계 분석

### 1.1 RMSE (Root Mean Square Error)

**경향성**: Episode 증가에 따라 **약간 감소** (-0.46 per episode)

**궤적 특성 영향 분석**:
- **감소 원인**: Episode가 증가할수록 **시간 동기화가 약간 개선**되거나, **평균적인 위치 오차가 감소**하는 경향을 보입니다.
- Episode 1 (RMSE=4.59) → Episode 5 (RMSE=2.16): 약 53% 감소
- 하지만 Episode 3 (RMSE=4.53)에서 다시 증가하는 등 **불규칙한 패턴**을 보입니다.
- **민감한 요소**: 시간 동기화 오차, 위치 편차
- **둔감한 요소**: 경로 형태 변화, 속도 변화
- **특이사항**: Episode 5에서 가장 낮은 값 (2.16)을 보이는데, 이는 **가장 짧은 경로(27 steps)**를 따르기 때문일 수 있습니다.

### 1.2 DTW (Dynamic Time Warping)

**경향성**: Episode 증가에 따라 **크게 증가** (+27.98 per episode)

**궤적 특성 영향 분석**:
- **증가 원인**: Episode가 증가할수록 **전체 경로 형태가 GT와 현저히 달라지거나**, **시간 왜곡이 더 많이 필요**해지는 것으로 해석됩니다.
- Episode 1 (DTW=25.14) → Episode 5 (DTW=134.02): 약 433% 증가
- 특히 Episode 3 (DTW=80.25)과 Episode 5 (DTW=134.02)에서 큰 값을 보입니다.
- **민감한 요소**: 경로 형태(pattern), 전체 궤적의 기하학적 구조, 경로 길이 차이
- **둔감한 요소**: 일시적 정지, 속도 변화
- **특이사항**: 경로 길이가 매우 다른 경우 (Episode 3: 78 steps, Episode 5: 27 steps) 큰 DTW 값을 보입니다.

### 1.3 Fréchet Distance

**경향성**: Episode 증가에 따라 **증가** (+1.01 per episode)

**궤적 특성 영향 분석**:
- **증가 원인**: Episode가 증가할수록 **기하학적 형상이 GT와 더 달라짐**을 의미합니다.
- Episode 1 (Fréchet=2.00) → Episode 5 (Fréchet=6.71): 약 236% 증가
- 특히 Episode 5에서 가장 큰 값 (6.71)을 보입니다.
- **민감한 요소**: 경로의 기하학적 형상, 토폴로지, 최종 위치 차이
- **둔감한 요소**: 시간, 속도, 일시적 우회
- **특이사항**: Episode 5는 가장 짧은 경로이지만 가장 큰 Fréchet 값을 보입니다. 이는 **시작점이나 끝점이 GT와 크게 다르거나**, **경로의 형상 자체가 다름**을 의미합니다.

### 1.4 ERP (Edit Distance on Real sequence)

**경향성**: Episode 증가에 따라 **증가** (+14.98 per episode)

**궤적 특성 영향 분석**:
- **증가 원인**: Episode가 증가할수록 **Gap(누락)이 증가하거나**, **경로의 불일치가 커짐**을 의미합니다.
- Episode 1 (ERP=189.54) → Episode 5 (ERP=206.37): 약 9% 증가
- 하지만 Episode 3 (ERP=349.85)에서 급격히 증가합니다.
- **민감한 요소**: 큰 Gap, 누락된 구간, 경로 길이 차이
- **둔감한 요소**: 작은 우회, 국소적 편차
- **특이사항**: Episode 3 (78 steps)에서 가장 큰 값 (349.85)을 보입니다. 긴 경로일수록 Gap이 더 많이 발생할 수 있습니다.

### 1.5 DDTW (Derivative Dynamic Time Warping)

**경향성**: Episode 증가에 따라 **증가** (+4.60 per episode)

**궤적 특성 영향 분석**:
- **증가 원인**: Episode가 증가할수록 **속도/방향 벡터가 GT와 더 달라짐**을 의미합니다.
- Episode 1 (DDTW=19.96) → Episode 5 (DDTW=30.25): 약 52% 증가
- 특히 Episode 3 (DDTW=44.56)에서 가장 큰 값을 보입니다.
- **민감한 요소**: 정지(Stop), 역주행(Backtracking), 속도 변화, 경로 길이 차이
- **둔감한 요소**: 위치 오프셋, 베이스라인 시프트
- **특이사항**: Episode 3 (78 steps)에서 가장 큰 값. 긴 경로일수록 속도 패턴이 더 달라질 수 있습니다.

### 1.6 TWED (Time Warp Edit Distance)

**경향성**: Episode 증가에 따라 **증가** (+10.43 per episode)

**궤적 특성 영향 분석**:
- **증가 원인**: Episode가 증가할수록 **시간 왜곡 페널티가 증가하거나**, **시간적 일치도가 나빠짐**을 의미합니다.
- Episode 1 (TWED=194.46) → Episode 5 (TWED=173.11): 약 11% 감소
- 하지만 Episode 3 (TWED=463.56)에서 급격히 증가합니다.
- **민감한 요소**: 시간 페널티, 속도 변화, 정차, 경로 길이 차이
- **둔감한 요소**: 위치만의 오차
- **특이사항**: Episode 3에서 매우 큰 값 (463.56). 경로 길이가 크게 다르면 시간 페널티가 급격히 증가합니다.

### 1.7 Sobolev Metric

**경향성**: Episode 증가에 따라 **증가** (+3.32 per episode)

**궤적 특성 영향 분석**:
- **증가 원인**: Episode가 증가할수록 **위치 오차 또는 속도 오차가 증가**하는 것으로 해석됩니다.
- Episode 1 (Sobolev=17.12) → Episode 5 (Sobolev=31.01): 약 81% 증가
- 특히 Episode 5에서 가장 큰 값 (31.01)을 보입니다.
- **민감한 요소**: 위치 오차, 속도 오차 (둘 다)
- **둔감한 요소**: 없음 (종합적 메트릭)
- **특이사항**: Episode 5는 가장 짧은 경로이지만 가장 큰 Sobolev 값을 보입니다. 이는 **위치나 속도 중 하나가 크게 다름**을 의미합니다.

---

## 2. Episode 증가에 따른 경향성 종합 분석

### 2.1 전체적인 경향 패턴

**모든 메트릭이 Episode 증가에 따라 증가하는 경향**:
- **DTW** (+27.98): 가장 큰 증가
- **ERP** (+14.98): 큰 증가
- **TWED** (+10.43): 중간 증가
- **DDTW** (+4.60): 중간 증가
- **Sobolev** (+3.32): 작은 증가
- **Fréchet** (+1.01): 작은 증가

**유일하게 감소하는 메트릭**:
- **RMSE** (-0.46): 약간 감소

### 2.2 경로 길이의 영향

경로 길이가 매우 다양합니다:
- Episode 1: 60 steps
- Episode 2: 40 steps
- Episode 3: 78 steps (가장 김)
- Episode 4: 56 steps
- Episode 5: 27 steps (가장 짧음)

**관찰**:
1. **Episode 3 (78 steps)**: 가장 긴 경로
   - DTW, ERP, TWED, DDTW 모두 가장 큰 값
   - 긴 경로 = 더 많은 시간 왜곡 필요 = 더 큰 오차

2. **Episode 5 (27 steps)**: 가장 짧은 경로
   - RMSE는 가장 작지만, Fréchet와 Sobolev는 가장 큼
   - 짧은 경로 = 시간 동기화는 좋지만, 형상은 다름

3. **Episode 2 (40 steps)**: 중간 길이
   - 대부분의 메트릭에서 가장 작은 값
   - GT(46 steps)와 가장 유사한 길이

### 2.3 메트릭별 Episode 의존성 패턴

#### 높은 Episode 의존성 (큰 증가):
1. **DTW** (+27.98): 경로 형태가 크게 달라짐
2. **ERP** (+14.98): Gap이 증가
3. **TWED** (+10.43): 시간 페널티 증가

#### 중간 Episode 의존성:
4. **DDTW** (+4.60): 속도 패턴이 달라짐
5. **Sobolev** (+3.32): 종합적 오차 증가
6. **Fréchet** (+1.01): 형상이 약간 달라짐

#### 낮은 Episode 의존성 (감소):
7. **RMSE** (-0.46): 시간 동기화는 약간 개선

### 2.4 모순적 경향성 해석

**RMSE는 감소하지만 다른 모든 메트릭은 증가**:
- 해석: 나중 Episode는 **같은 시간대의 위치는 더 정확**하지만, **전체적인 경로는 더 달라짐**
- 특히 **경로 길이가 크게 다를 때** (Episode 3, 5) 메트릭 값이 급격히 증가
- 즉, **로컬 정확도는 개선**되지만, **글로벌 경로 선택은 더 다양해짐**

---

## 3. 이 실험 데이터에 적합한 메트릭 분석

### 3.1 안정성 관점 (Episode와 무관하게 일정해야 함)

**가장 안정적인 메트릭**:
1. **RMSE** (CV=0.2221): 가장 안정적
2. **Sobolev** (CV=0.3391): 중간 안정성
3. **ERP** (CV=0.4894): 중간 안정성

**가장 불안정한 메트릭**:
1. **TWED** (CV=0.6153): 가장 불안정
2. **Fréchet** (CV=0.6032): 매우 불안정
3. **DTW** (CV=0.7574): 매우 불안정

### 3.2 Episode 독립성 관점 (이상적으로는 변하지 않아야 함)

**가장 Episode 독립적** (트렌드가 작음):
1. **RMSE** (trend=-0.46): 가장 독립적 (오히려 개선)
2. **Fréchet** (trend=+1.01): 작은 증가
3. **Sobolev** (trend=+3.32): 작은 증가

**가장 Episode 의존적** (트렌드가 큼):
1. **DTW** (trend=+27.98): 매우 큰 증가
2. **ERP** (trend=+14.98): 큰 증가
3. **TWED** (trend=+10.43): 큰 증가

### 3.3 경로 길이 변동성 고려

이 그룹의 특징은 **경로 길이가 매우 다양**하다는 점입니다 (27~78 steps).

**경로 길이에 민감한 메트릭**:
- **DTW**: 경로 길이가 다르면 시간 왜곡이 더 필요 → 큰 값
- **ERP**: 긴 경로일수록 Gap 가능성 증가 → 큰 값
- **TWED**: 경로 길이 차이 = 시간 페널티 증가 → 큰 값

**경로 길이에 상대적으로 둔감한 메트릭**:
- **RMSE**: 경로 길이와 무관하게 같은 시간대 위치만 비교
- **Fréchet**: 형상만 비교하므로 길이 차이에 상대적으로 둔감
- **DDTW**: 속도 패턴 비교이므로 길이 차이에 중간 정도 영향

### 3.4 실험 목적에 따른 메트릭 추천

#### A. 전체적인 궤적 유사도 평가 (종합적)
**추천**: **RMSE** 또는 **Sobolev**
- **RMSE**:
  - 가장 안정적 (CV=0.2221)
  - Episode 독립성이 가장 좋음 (trend=-0.46)
  - 경로 길이에 상대적으로 둔감
- **Sobolev**:
  - 중간 안정성 (CV=0.3391)
  - 위치+속도 모두 고려
  - 단점: Episode 증가에 따라 증가

#### B. 속도/방향 기반 평가 (동역학적)
**추천**: **DDTW**
- 이유:
  - 중간 안정성 (CV=0.4820)
  - 정지/역주행 감지에 특화
- 단점: Episode 증가에 따라 증가, 경로 길이에 영향

#### C. 기하학적 형상 평가 (공간적)
**추천**: **Fréchet Distance**
- 이유:
  - 시간과 무관하게 형상만 평가
  - 경로 길이에 상대적으로 둔감
- 단점: 불안정 (CV=0.6032), Episode 증가에 따라 증가

#### D. 경로 길이가 다양한 경우
**비추천**: **DTW, ERP, TWED**
- 이유: 경로 길이 차이에 매우 민감하여 부적절

### 3.5 최종 권장사항

**이 실험 데이터에 가장 적합한 메트릭**:

1. **1순위: RMSE**
   - 안정성: 가장 높음 (CV=0.2221)
   - Episode 독립성: 가장 좋음 (trend=-0.46, 오히려 개선)
   - 경로 길이 독립성: 높음
   - 실용성: 시간 동기화 평가에 적합
   - **단점**: 시간 동기화 필수 제약

2. **2순위: Sobolev**
   - 안정성: 중간 (CV=0.3391)
   - 종합성: 위치+속도 모두 고려
   - Episode 독립성: 상대적으로 양호 (trend=+3.32)
   - 단점: Episode 증가에 따라 증가

3. **3순위: Fréchet**
   - 경로 길이 독립성: 높음
   - 형상 평가에 특화
   - 단점: 불안정 (CV=0.6032)

**비추천 메트릭**:
- **DTW**: 매우 불안정 (CV=0.7574), 경로 길이에 매우 민감
- **TWED**: 가장 불안정 (CV=0.6153), 경로 길이에 매우 민감
- **ERP**: 경로 길이에 매우 민감, Episode 의존성 큼

---

## 4. 결론

### 4.1 주요 발견사항

1. **경로 길이가 매우 다양**함 (27~78 steps)이 주요 변수
2. **RMSE는 유일하게 감소**하지만, **다른 모든 메트릭은 증가**
3. **경로 길이가 크게 다를 때** (Episode 3, 5) 메트릭 값이 급격히 증가
4. **Episode 2**가 GT와 가장 유사한 길이(40 vs 46)로 대부분의 메트릭에서 가장 작은 값

### 4.2 실험 해석

이러한 경향성은 다음을 시사합니다:
- 나중 Episode는 **더 정확한 타이밍**으로 이동하지만
- **다양한 길이의 경로를 선택**하여 전체적으로는 더 달라짐
- **경로 길이 차이가 메트릭 값에 큰 영향**을 미침
- 즉, **로컬 정확도는 개선**되지만, **경로 선택의 다양성은 증가**

### 4.3 실용적 권장사항

이 실험 데이터의 특성상 (경로 길이가 매우 다양):
- **경로 길이 독립적 평가**가 중요하다면 → **RMSE** 또는 **Fréchet** 사용
- **종합적 평가**가 중요하다면 → **Sobolev** 사용
- **동역학적 평가**가 중요하다면 → **DDTW** 사용

**경로 길이가 다양한 경우에는 DTW, ERP, TWED는 부적절**합니다.

### 4.4 추가 고려사항

- **Episode 2**가 대부분의 메트릭에서 가장 작은 값을 보이는데, 이는 GT와 가장 유사한 경로 길이(40 vs 46)를 따르기 때문일 수 있습니다.
- **경로 길이 정규화**를 고려하면 DTW, ERP, TWED도 유용할 수 있지만, 현재 구현에서는 경로 길이 차이가 큰 영향을 미칩니다.
